name = "jack-portfolio-event-form"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Account ID from wrangler whoami
account_id = "c9466e418cce6b31ecca812a6628fadd"

# Workers Routes
# Route this worker to handle /api/create-event requests on jack.unjoe.me
routes = [
  { pattern = "jack.unjoe.me/api/create-event", zone_name = "unjoe.me" }
]

# Environment variables (set via 'wrangler secret put' command)
# - GITHUB_TOKEN (GitHub Personal Access Token with repo scope)
# - EVENT_FORM_PASSWORD (optional, for additional validation)

[build]
command = "npm run build"

# Development configuration
[env.development]
name = "jack-portfolio-event-form-dev"

# Production configuration
[env.production]
name = "jack-portfolio-event-form-prod"

# Secrets (set these via CLI):
# wrangler secret put GITHUB_TOKEN
# wrangler secret put EVENT_FORM_PASSWORD
